@use '../../../styles/util/' as u;

.button {
  border-radius: u.rem(20);
  border-style: none;

  display: flex;
  justify-content: center;
  align-items: center;

  padding: u.rem(7) u.rem(50);
  gap: u.rem(10);

  font-family: 'Nunito';
  font-size: u.rem(15);
  font-weight: 700;

  transition: background-color 200ms ease-in-out;
  cursor: pointer;

  > svg {
    width: u.rem(11.5);
    height: u.rem(11.5);
  }

  &__primary {
    @extend .button;
    background: var(--P300);
    color: white;
    /* Small Button/Sharp Purple Shadow */
    box-shadow: 0 u.rem(4) 0 0 var(--P400),
      0 u.rem(4) u.rem(7.2) u.rem(5) var(--M100);

    &:hover {
      @extend .button__primary;
      background: var(--P200);
    }

    &:disabled {
      @extend .button__primary;
      background: var(--M75);
      color: var(--M50);
      /* Small Button/Sharp Muted Shadow */
      box-shadow: 0 u.rem(4) 0 0 var(--M300);
      cursor: default;
    }
  }

  &__secondary {
    @extend .button;
    background: white;
    color: var(--P100);
    /* Small Button/Simple Shadow */
    box-shadow: 0 u.rem(4) u.rem(4) 0 hsl(254, 23%, 79%),
      0 0 u.rem(2.7) u.rem(1) var(--M100);

    &:hover {
      @extend .button__secondary;
      background: var(--P50);
    }

    &:disabled {
      @extend .button__secondary;
      background: var(--M50);
      color: var(--M75);
      /* Small Button/Sharp Muted Shadow */
      box-shadow: 0 u.rem(4) 0 0 var(--M100);
    }
  }

  &__loading {
    display: flex;
    padding-block: u.rem(5.25);

    .dot-flashing {
      position: relative;
      width: u.rem(10);
      height: u.rem(10);
      border-radius: 50%;
      background-color: var(--M50);
      animation: dot-flashing 1.2s infinite alternate;
      animation-delay: 0.6s;
    }

    .dot-flashing::before,
    .dot-flashing::after {
      content: '';
      display: inline-block;
      position: absolute;
      top: 0;
    }

    .dot-flashing::before {
      left: -15px;
      width: u.rem(10);
      height: u.rem(10);
      border-radius: 50%;
      background-color: var(--M50);
      animation: dot-flashing 1.2s infinite alternate;
      animation-delay: 0s;
    }

    .dot-flashing::after {
      left: 15px;
      width: u.rem(10);
      height: u.rem(10);
      border-radius: 50%;
      background-color: var(--M50);
      animation: dot-flashing 1.2s infinite alternate;
      animation-delay: 1.2s;
    }

    @keyframes dot-flashing {
      0% {
        background-color: var(--M200);
      }
      50%,
      100% {
        background-color: var(--M50);
      }
    }
  }
}
